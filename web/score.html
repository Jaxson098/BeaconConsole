<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Drone Race Score</title>
</head>
<body>
    <p id="CF_B"></p>
    <p id="CF_R"></p>
    <p id="WM_G"></p>
    <p id="M_B"></p>
    <p id="M_G"></p>
    <p id="M_Y"></p>
    <p id="M_R"></p>
    <p id="M_P"></p>
    <p id="gamemode"></p>
    <script>
        const CF_B = document.getElementById ("CF_B");
        const CF_R = document.getElementById ("CF_R");
        const WM_G = document.getElementById ("WM_G");
        const M_B = document.getElementById ("M_B");
        const M_G = document.getElementById ("M_G");
        const M_Y = document.getElementById ("M_Y");
        const M_R = document.getElementById ("M_R");
        const M_P = document.getElementById ("M_P");
        const gamemode = document.getElementById ("gamemode");

        // Initialize the EventSource, listening for server updates
        const eventSource = new EventSource('/score');
        
        // Listen for messages from the server
        eventSource.onmessage = function(event) {
            const parsed = JSON.parse(event.data)
            CF_B.textContent = 'CF_B = ' + parsed.CF_B;
            CF_R.textContent = 'CF_R = ' + parsed.CF_R;
            WM_G.textContent = 'WM_G = ' + parsed.WM_G;
            M_B.textContent = 'M_B = ' + parsed.M_B;
            M_G.textContent = 'M_G = ' + parsed.M_G;
            M_Y.textContent = 'M_Y = ' + parsed.M_Y;
            M_R.textContent = 'M_R = ' + parsed.M_R;
            M_P.textContent = 'M_P = ' + parsed.M_P;
            gamemode.textContent = 'gamemode = ' + gamemode;
            
        };
    </script>
</body>
</html>